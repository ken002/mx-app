(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-index-productList-productList"],{"007f":function(t,e,n){"use strict";var a=n("288e");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=a(n("5d73"));n("96cf");var r=a(n("3b8d")),o=a(n("8cf6")),s={components:{WaterfallFlow:o.default},onShow:function(){},onHide:function(){},data:function(){return{page:1,list:[],type:null}},onReachBottom:function(){1==this.type&&this.selectSelfProducts("more"),2==this.type&&this.selectCurrPopularProducts("more")},onLoad:function(t){this.type=t.type,1==t.type&&(uni.setNavigationBarTitle({title:"本店热款"}),this.selectSelfProducts()),2==t.type&&(uni.setNavigationBarTitle({title:"当季流行"}),this.selectCurrPopularProducts())},methods:{choose:function(t){this.$util.toProductDetail(t)},selectSelfProducts:function(){var t=(0,r.default)(regeneratorRuntime.mark(function t(e){var n,a,r,o,s,c,l;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return"more"===e?this.page++:this.page=1,t.next=3,this.$util.request({requestUrl:"api/products",data:{limit:10,page:this.page,name:null,pType:1,online:1}});case 3:if(n=t.sent,console.log("本店：",n),!n){t.next=26;break}for(a=!0,r=!1,o=void 0,t.prev=9,s=(0,i.default)(n.data.data);!(a=(c=s.next()).done);a=!0)l=c.value,l.load=!1;t.next=17;break;case 13:t.prev=13,t.t0=t["catch"](9),r=!0,o=t.t0;case 17:t.prev=17,t.prev=18,a||null==s.return||s.return();case 20:if(t.prev=20,!r){t.next=23;break}throw o;case 23:return t.finish(20);case 24:return t.finish(17);case 25:this.list="more"===e?this.list.concat(n.data.data):n.data.data;case 26:case"end":return t.stop()}},t,this,[[9,13,17,25],[18,,20,24]])}));function e(e){return t.apply(this,arguments)}return e}(),selectCurrPopularProducts:function(){var t=(0,r.default)(regeneratorRuntime.mark(function t(e){var n,a,r,o,s,c,l;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return"more"===e?this.page++:this.page=1,t.next=3,this.$util.request({requestUrl:"api/products",data:{limit:10,page:this.page,name:null,pType:0,online:1}});case 3:if(n=t.sent,console.log("流行：",n),!n){t.next=26;break}for(a=!0,r=!1,o=void 0,t.prev=9,s=(0,i.default)(n.data.data);!(a=(c=s.next()).done);a=!0)l=c.value,l.load=!1;t.next=17;break;case 13:t.prev=13,t.t0=t["catch"](9),r=!0,o=t.t0;case 17:t.prev=17,t.prev=18,a||null==s.return||s.return();case 20:if(t.prev=20,!r){t.next=23;break}throw o;case 23:return t.finish(20);case 24:return t.finish(17);case 25:this.list="more"===e?this.list.concat(n.data.data):n.data.data;case 26:case"end":return t.stop()}},t,this,[[9,13,17,25],[18,,20,24]])}));function e(e){return t.apply(this,arguments)}return e}()}};e.default=s},"22cd":function(t,e,n){var a=n("df6e");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var i=n("4f06").default;i("15157607",a,!0,{sourceMap:!1,shadowMode:!1})},"45a8":function(t,e,n){e=t.exports=n("2350")(!1),e.push([t.i,'@charset "UTF-8";\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.flow-container[data-v-4c3b6b04]{padding-top:15px}',""])},5636:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={props:{list:{type:Array,default:function(){return[]}},loading:{type:Boolean,default:!1}},data:function(){return{mark:0,newList:[],boxHeight:[],top:[],left:[],loadingTop:0}},watch:{list:function(t,e){this.mark=e.length,t!=e&&(this.newList=this.list,this.$nextTick(function(){var t=this;setTimeout(function(){t.waterFall()},120)}))}},methods:{waterFall:function(){var t=this,e=uni.createSelectorQuery().in(this);e.selectAll(".flow-box .item").boundingClientRect(function(e){for(var n=t.newList.length,a=0,i=t.mark;i<n;i++)if(a=e[i].height,i<2)t.$set(t.newList[i],"top",0),t.$set(t.newList[i],"left",i),t.boxHeight.push(a),t.top.push(0),t.left.push(i);else{var r=t.boxHeight[0],o=0;r>t.boxHeight[1]&&(r=t.boxHeight[1],o=1),t.boxHeight[o]=r+a+5,t.top.push(r+5),t.left.push(o),t.$set(t.newList[i],"top",r+5),t.$set(t.newList[i],"left",o),t.loadingTop=t.boxHeight[o]}}).exec()},choose:function(t){var e=t.currentTarget.dataset.index;this.$emit("click",this.newList[e])}}};e.default=a},5727:function(t,e,n){"use strict";n.r(e);var a=n("919c"),i=n("6c2f");for(var r in i)"default"!==r&&function(t){n.d(e,t,function(){return i[t]})}(r);n("9b3d");var o=n("2877"),s=Object(o["a"])(i["default"],a["a"],a["b"],!1,null,"4c3b6b04",null);e["default"]=s.exports},"6c2f":function(t,e,n){"use strict";n.r(e);var a=n("007f"),i=n.n(a);for(var r in a)"default"!==r&&function(t){n.d(e,t,function(){return a[t]})}(r);e["default"]=i.a},"8cf6":function(t,e,n){"use strict";n.r(e);var a=n("fa62"),i=n("9fde");for(var r in i)"default"!==r&&function(t){n.d(e,t,function(){return i[t]})}(r);n("8f0c");var o=n("2877"),s=Object(o["a"])(i["default"],a["a"],a["b"],!1,null,"a4df0b06",null);e["default"]=s.exports},"8f0c":function(t,e,n){"use strict";var a=n("22cd"),i=n.n(a);i.a},"919c":function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",[n("v-uni-view",{staticClass:"flow-container"},[n("WaterfallFlow",{attrs:{list:t.list,loading:!1},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.choose.apply(void 0,arguments)}}})],1)],1)},i=[];n.d(e,"a",function(){return a}),n.d(e,"b",function(){return i})},"9b3d":function(t,e,n){"use strict";var a=n("ae48"),i=n.n(a);i.a},"9fde":function(t,e,n){"use strict";n.r(e);var a=n("5636"),i=n.n(a);for(var r in a)"default"!==r&&function(t){n.d(e,t,function(){return a[t]})}(r);e["default"]=i.a},ae48:function(t,e,n){var a=n("45a8");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var i=n("4f06").default;i("71bc1144",a,!0,{sourceMap:!1,shadowMode:!1})},df6e:function(t,e,n){e=t.exports=n("2350")(!1),e.push([t.i,'@charset "UTF-8";\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.flow-box[data-v-a4df0b06]{position:relative;color:#1a1a1a;padding-bottom:var(--window-bottom)}.flow-box .item[data-v-a4df0b06]{position:absolute;left:%?10?%;width:calc(50% - %?20?%);border:%?1?% solid #f9f9f9;background:#fff}.flow-box .left[data-v-a4df0b06]{left:%?380?%}.flow-box .pic[data-v-a4df0b06]{background:#f6f6f6}.flow-box .content[data-v-a4df0b06]{padding:%?20?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-flex-wrap:wrap;flex-wrap:wrap}.flow-box .content uni-text[data-v-a4df0b06]{width:100%;font-size:%?24?%;margin-bottom:%?20?%}.flow-box .user[data-v-a4df0b06]{display:-webkit-box;display:-webkit-flex;display:flex;width:%?220?%;overflow:hidden;font-size:%?26?%;color:#666}.loading[data-v-a4df0b06]{position:absolute;width:100%;text-align:center;padding:%?20?% 0}.fall-item-container[data-v-a4df0b06]{position:relative;height:200px}.fall-item-container .item-image[data-v-a4df0b06]{border-radius:6px 6px 0 0;position:absolute;width:100%;height:100%}',""])},fa62:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"flow-box",style:"height: "+t.loadingTop+"px"},[t._l(t.newList,function(e,a){return n("v-uni-view",{key:a,staticClass:"item",class:1==t.left[a]?"left":"",style:"top:"+t.top[a]+"px;background-color:#fff;",attrs:{"data-index":a},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.choose.apply(void 0,arguments)}}},[n("v-uni-view",{staticClass:"pic fall-item-container"},[0===e.showType?n("image-cache",{attrs:{loadingImage:"'/static/avatar.jpg'",errorImage:"'/static/avatar.jpg'",src:e.image}}):n("v-uni-view",{staticClass:"jly-video-container"},[n("image-cache",{attrs:{loadingImage:"'/static/avatar.jpg'",errorImage:"'/static/avatar.jpg'",src:e.image}}),n("video-play")],1)],1),n("v-uni-view",{staticClass:"content"},[n("v-uni-text",[t._v(t._s(e.name))])],1)],1)}),n("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],staticClass:"loading",style:"top: "+t.loadingTop+"px"},[n("v-uni-image",{staticStyle:{width:"80upx",height:"80upx"},attrs:{src:"/static/nairenk-waterfall-flow/loading.gif"}})],1)],2)},i=[];n.d(e,"a",function(){return a}),n.d(e,"b",function(){return i})}}]);