(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-index-productList-productList"],{"05d5":function(t,e,n){"use strict";(function(t){var a=n("288e");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=a(n("5d73"));n("96cf");var r=a(n("3b8d")),o=a(n("8cf6")),s={components:{WaterfallFlow:o.default},onShow:function(){},onHide:function(){},data:function(){return{page:1,list:[],type:null}},onReachBottom:function(){1==this.type&&this.selectSelfProducts("more"),2==this.type&&this.selectCurrPopularProducts("more")},onLoad:function(t){this.type=t.type,1==t.type&&(uni.setNavigationBarTitle({title:"本店热款"}),this.selectSelfProducts()),2==t.type&&(uni.setNavigationBarTitle({title:"当季流行"}),this.selectCurrPopularProducts())},methods:{choose:function(t){this.$util.toProductDetail(t)},selectSelfProducts:function(){var e=(0,r.default)(regeneratorRuntime.mark(function e(n){var a,r,o,s,c,l,u;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return"more"===n?this.page++:this.page=1,e.next=3,this.$util.request({requestUrl:"api/products",data:{limit:10,page:this.page,name:null,pType:1,online:1}});case 3:if(a=e.sent,t.log("本店：",a),!a){e.next=26;break}for(r=!0,o=!1,s=void 0,e.prev=9,c=(0,i.default)(a.data.data);!(r=(l=c.next()).done);r=!0)u=l.value,u.load=!1;e.next=17;break;case 13:e.prev=13,e.t0=e["catch"](9),o=!0,s=e.t0;case 17:e.prev=17,e.prev=18,r||null==c.return||c.return();case 20:if(e.prev=20,!o){e.next=23;break}throw s;case 23:return e.finish(20);case 24:return e.finish(17);case 25:this.list="more"===n?this.list.concat(a.data.data):a.data.data;case 26:case"end":return e.stop()}},e,this,[[9,13,17,25],[18,,20,24]])}));function n(t){return e.apply(this,arguments)}return n}(),selectCurrPopularProducts:function(){var e=(0,r.default)(regeneratorRuntime.mark(function e(n){var a,r,o,s,c,l,u;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return"more"===n?this.page++:this.page=1,e.next=3,this.$util.request({requestUrl:"api/products",data:{limit:10,page:this.page,name:null,pType:0,online:1}});case 3:if(a=e.sent,t.log("流行：",a),!a){e.next=26;break}for(r=!0,o=!1,s=void 0,e.prev=9,c=(0,i.default)(a.data.data);!(r=(l=c.next()).done);r=!0)u=l.value,u.load=!1;e.next=17;break;case 13:e.prev=13,e.t0=e["catch"](9),o=!0,s=e.t0;case 17:e.prev=17,e.prev=18,r||null==c.return||c.return();case 20:if(e.prev=20,!o){e.next=23;break}throw s;case 23:return e.finish(20);case 24:return e.finish(17);case 25:this.list="more"===n?this.list.concat(a.data.data):a.data.data;case 26:case"end":return e.stop()}},e,this,[[9,13,17,25],[18,,20,24]])}));function n(t){return e.apply(this,arguments)}return n}()}};e.default=s}).call(this,n("5a52")["default"])},"1c87":function(t,e,n){e=t.exports=n("2350")(!1),e.push([t.i,'@charset "UTF-8";\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.flow-container[data-v-4c3b6b04]{padding-top:15px}',""])},"1def":function(t,e,n){e=t.exports=n("2350")(!1),e.push([t.i,'@charset "UTF-8";\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.flow-box[data-v-06c1767d]{position:relative;color:#1a1a1a;padding-bottom:var(--window-bottom)}.flow-box .item[data-v-06c1767d]{position:absolute;left:%?10?%;width:calc(50% - %?20?%);border:%?1?% solid #f9f9f9;background:#fff}.flow-box .left[data-v-06c1767d]{left:%?380?%}.flow-box .pic[data-v-06c1767d]{background:#f6f6f6}.flow-box .content[data-v-06c1767d]{padding:%?20?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-flex-wrap:wrap;flex-wrap:wrap}.flow-box .content uni-text[data-v-06c1767d]{width:100%;font-size:%?24?%;margin-bottom:%?20?%}.flow-box .user[data-v-06c1767d]{display:-webkit-box;display:-webkit-flex;display:flex;width:%?220?%;overflow:hidden;font-size:%?26?%;color:#666}.loading[data-v-06c1767d]{position:absolute;width:100%;text-align:center;padding:%?20?% 0}.fall-item-container[data-v-06c1767d]{position:relative;height:200px}.fall-item-container .item-image[data-v-06c1767d]{border-radius:6px 6px 0 0;position:absolute;width:100%;height:100%}',""])},"34b4":function(t,e,n){var a=n("1def");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var i=n("4f06").default;i("7f2422c6",a,!0,{sourceMap:!1,shadowMode:!1})},5727:function(t,e,n){"use strict";n.r(e);var a=n("919c"),i=n("6c2f");for(var r in i)"default"!==r&&function(t){n.d(e,t,function(){return i[t]})}(r);n("9b3d");var o=n("2877"),s=Object(o["a"])(i["default"],a["a"],a["b"],!1,null,"4c3b6b04",null);e["default"]=s.exports},"6c2f":function(t,e,n){"use strict";n.r(e);var a=n("05d5"),i=n.n(a);for(var r in a)"default"!==r&&function(t){n.d(e,t,function(){return a[t]})}(r);e["default"]=i.a},"8cf6":function(t,e,n){"use strict";n.r(e);var a=n("ba4d"),i=n("9fde");for(var r in i)"default"!==r&&function(t){n.d(e,t,function(){return i[t]})}(r);n("aeff");var o=n("2877"),s=Object(o["a"])(i["default"],a["a"],a["b"],!1,null,"06c1767d",null);e["default"]=s.exports},"919c":function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",[n("v-uni-view",{staticClass:"flow-container"},[n("WaterfallFlow",{attrs:{list:t.list,loading:!1},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.choose.apply(void 0,arguments)}}})],1)],1)},i=[];n.d(e,"a",function(){return a}),n.d(e,"b",function(){return i})},"9b3d":function(t,e,n){"use strict";var a=n("efe6"),i=n.n(a);i.a},"9fde":function(t,e,n){"use strict";n.r(e);var a=n("a1bd"),i=n.n(a);for(var r in a)"default"!==r&&function(t){n.d(e,t,function(){return a[t]})}(r);e["default"]=i.a},a1bd:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={props:{list:{type:Array,default:function(){return[]}},loading:{type:Boolean,default:!1}},data:function(){return{mark:0,newList:[],boxHeight:[],top:[],left:[],loadingTop:0}},watch:{list:function(t,e){this.mark=e.length,t!=e&&(this.newList=this.list,this.$nextTick(function(){var t=this;setTimeout(function(){t.waterFall()},120)}))}},methods:{waterFall:function(){var t=this,e=uni.createSelectorQuery().in(this);e.selectAll(".flow-box .item").boundingClientRect(function(e){for(var n=t.newList.length,a=0,i=t.mark;i<n;i++)if(a=e[i].height,i<2)t.$set(t.newList[i],"top",0),t.$set(t.newList[i],"left",i),t.boxHeight.push(a),t.top.push(0),t.left.push(i);else{var r=t.boxHeight[0],o=0;r>t.boxHeight[1]&&(r=t.boxHeight[1],o=1),t.boxHeight[o]=r+a+5,t.top.push(r+5),t.left.push(o),t.$set(t.newList[i],"top",r+5),t.$set(t.newList[i],"left",o),t.loadingTop=t.boxHeight[o]}}).exec()},choose:function(t){var e=t.currentTarget.dataset.index;this.$emit("click",this.newList[e])}}};e.default=a},aeff:function(t,e,n){"use strict";var a=n("34b4"),i=n.n(a);i.a},ba4d:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"flow-box",style:"height: "+t.loadingTop+"px"},[t._l(t.newList,function(e,a){return n("v-uni-view",{key:a,staticClass:"item",class:1==t.left[a]?"left":"",style:"top:"+t.top[a]+"px;background-color:#fff;",attrs:{"data-index":a},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.choose.apply(void 0,arguments)}}},[n("v-uni-view",{staticClass:"pic fall-item-container"},[0===e.showType?n("image-cache",{attrs:{src:e.image}}):n("v-uni-view",{staticClass:"jly-video-container"},[n("image-cache",{attrs:{src:e.image}}),n("video-play")],1)],1),n("v-uni-view",{staticClass:"content"},[n("v-uni-text",[t._v(t._s(e.name))])],1)],1)}),n("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],staticClass:"loading",style:"top: "+t.loadingTop+"px"},[n("v-uni-image",{staticStyle:{width:"80upx",height:"80upx"},attrs:{src:"/static/nairenk-waterfall-flow/loading.gif"}})],1)],2)},i=[];n.d(e,"a",function(){return a}),n.d(e,"b",function(){return i})},efe6:function(t,e,n){var a=n("1c87");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var i=n("4f06").default;i("fbc7da56",a,!0,{sourceMap:!1,shadowMode:!1})}}]);