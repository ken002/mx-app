(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/my/login/login"],{"0f4b":function(n,t,e){},"188d":function(n,t,e){"use strict";(function(n){e("d1f0"),e("921b");i(e("66fd"));var t=i(e("7959"));function i(n){return n&&n.__esModule?n:{default:n}}n(t.default)}).call(this,e("6e42")["createPage"])},7959:function(n,t,e){"use strict";e.r(t);var i=e("c629"),r=e("e9db");for(var u in r)"default"!==u&&function(n){e.d(t,n,function(){return r[n]})}(u);e("a75a");var o=e("2877"),a=Object(o["a"])(r["default"],i["a"],i["b"],!1,null,"183bc9cb",null);t["default"]=a.exports},a75a:function(n,t,e){"use strict";var i=e("0f4b"),r=e.n(i);r.a},c629:function(n,t,e){"use strict";var i=function(){var n=this,t=n.$createElement;n._self._c},r=[];e.d(t,"a",function(){return i}),e.d(t,"b",function(){return r})},ca60:function(n,t,e){"use strict";(function(n,i){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=u(e("a34a"));function u(n){return n&&n.__esModule?n:{default:n}}function o(n,t,e,i,r,u,o){try{var a=n[u](o),c=a.value}catch(s){return void e(s)}a.done?t(c):Promise.resolve(c).then(i,r)}function a(n){return function(){var t=this,e=arguments;return new Promise(function(i,r){var u=n.apply(t,e);function a(n){o(u,i,r,a,c,"next",n)}function c(n){o(u,i,r,a,c,"throw",n)}a(void 0)})}}var c={data:function(){return{}},onLoad:function(){var t=n.getStorageSync("userInfo");console.log(i(t," at pages\\my\\login\\login.vue:19")),null!==t&&""!==t&&n.switchTab({url:"/pages/index/index/index"})},methods:{weixinLoginConfirm:function(){var n=a(r.default.mark(function n(t){var e;return r.default.wrap(function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,this.$util.request({requestUrl:"api/user/"+t.openId});case 2:e=n.sent,console.log(i("查询用户",e," at pages\\my\\login\\login.vue:31")),e&&(null===e.data.data?this.addUser(t):this.modifyUser(t));case 5:case"end":return n.stop()}},n,this)}));function t(t){return n.apply(this,arguments)}return t}(),addUser:function(){var n=a(r.default.mark(function n(t){var e;return r.default.wrap(function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,this.$util.request({requestUrl:"api/user",method:"POST",data:t});case 2:e=n.sent,console.log(i("注册",e," at pages\\my\\login\\login.vue:46")),e&&this.loginSucc(t);case 5:case"end":return n.stop()}},n,this)}));function t(t){return n.apply(this,arguments)}return t}(),loginSucc:function(t){n.hideLoading(),n.setStorageSync("userInfo",t),this.$util.toast("登录成功"),setTimeout(function(){n.switchTab({url:"/pages/index/index/index"})},500)},modifyUser:function(){var n=a(r.default.mark(function n(t){var e;return r.default.wrap(function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,this.$util.request({requestUrl:"api/user",method:"PUT",data:t});case 2:e=n.sent,console.log(i("登录",e," at pages\\my\\login\\login.vue:69")),e&&this.loginSucc(t);case 5:case"end":return n.stop()}},n,this)}));function t(t){return n.apply(this,arguments)}return t}(),weixinLogin:function(){var n={openId:"oRrdQt1PCt0pRj4hiGAAIyVoxZLs",nickName:"M.X",gender:1,city:"上饶",province:"江西",country:"中国",avatarUrl:"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTI2bm5Hwiax0EoPVIViaUmFNzjMl1C63unGFoJ9Ol9VKllB1LibrZibGByQfWo2nqPIbF2LoNmK6w8meA/132",unionId:"oU5Yyty__tDp0m3-aq9VrgoSWw2Q"};this.weixinLoginConfirm(n)}}};t.default=c}).call(this,e("6e42")["default"],e("0de9")["default"])},e9db:function(n,t,e){"use strict";e.r(t);var i=e("ca60"),r=e.n(i);for(var u in i)"default"!==u&&function(n){e.d(t,n,function(){return i[n]})}(u);t["default"]=r.a}},[["188d","common/runtime","common/vendor"]]]);