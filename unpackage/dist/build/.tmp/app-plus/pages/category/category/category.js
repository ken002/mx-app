(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/category/category/category"],{"1f2f":function(e,t,r){"use strict";(function(e){r("d1f0"),r("921b");a(r("66fd"));var t=a(r("c641"));function a(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,r("6e42")["createPage"])},"358f":function(e,t,r){"use strict";var a=function(){var e=this,t=e.$createElement;e._self._c},n=[];r.d(t,"a",function(){return a}),r.d(t,"b",function(){return n})},"7bf9":function(e,t,r){"use strict";var a=r("c708"),n=r.n(a);n.a},bfdc:function(e,t,r){"use strict";r.r(t);var a=r("f677"),n=r.n(a);for(var i in a)"default"!==i&&function(e){r.d(t,e,function(){return a[e]})}(i);t["default"]=n.a},c641:function(e,t,r){"use strict";r.r(t);var a=r("358f"),n=r("bfdc");for(var i in n)"default"!==i&&function(e){r.d(t,e,function(){return n[e]})}(i);r("7bf9");var s=r("2877"),c=Object(s["a"])(n["default"],a["a"],a["b"],!1,null,"16c8b907",null);t["default"]=c.exports},c708:function(e,t,r){},f677:function(e,t,r){"use strict";(function(e,a){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i(r("a34a"));function i(e){return e&&e.__esModule?e:{default:e}}function s(e,t,r,a,n,i,s){try{var c=e[i](s),o=c.value}catch(u){return void r(u)}c.done?t(o):Promise.resolve(o).then(a,n)}function c(e){return function(){var t=this,r=arguments;return new Promise(function(a,n){var i=e.apply(t,r);function c(e){s(i,a,n,c,o,"next",e)}function o(e){s(i,a,n,c,o,"throw",e)}c(void 0)})}}var o={data:function(){return{list:[],tabCur:0,mainCur:0,verticalNavTop:0}},onPullDownRefresh:function(){var t=this;c(n.default.mark(function r(){var a,i,s,c,o,u;return n.default.wrap(function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,t.selectCategory();case 2:if(!(t.list.length>0)){r.next=30;break}a=!0,i=!1,s=void 0,r.prev=6,c=t.list[Symbol.iterator]();case 8:if(a=(o=c.next()).done){r.next=15;break}return u=o.value,r.next=12,t.selectProductsByCategory(u.id);case 12:a=!0,r.next=8;break;case 15:r.next=21;break;case 17:r.prev=17,r.t0=r["catch"](6),i=!0,s=r.t0;case 21:r.prev=21,r.prev=22,a||null==c.return||c.return();case 24:if(r.prev=24,!i){r.next=27;break}throw s;case 27:return r.finish(24);case 28:return r.finish(21);case 29:console.log(e(t.list," at pages\\category\\category\\category.vue:52"));case 30:case"end":return r.stop()}},r,this,[[6,17,21,29],[22,,24,28]])}))()},onLoad:function(){var t=this;c(n.default.mark(function r(){var a,i,s,c,o,u;return n.default.wrap(function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,t.selectCategory();case 2:if(!(t.list.length>0)){r.next=30;break}a=!0,i=!1,s=void 0,r.prev=6,c=t.list[Symbol.iterator]();case 8:if(a=(o=c.next()).done){r.next=15;break}return u=o.value,r.next=12,t.selectProductsByCategory(u.id);case 12:a=!0,r.next=8;break;case 15:r.next=21;break;case 17:r.prev=17,r.t0=r["catch"](6),i=!0,s=r.t0;case 21:r.prev=21,r.prev=22,a||null==c.return||c.return();case 24:if(r.prev=24,!i){r.next=27;break}throw s;case 27:return r.finish(24);case 28:return r.finish(21);case 29:console.log(e(t.list," at pages\\category\\category\\category.vue:63"));case 30:case"end":return r.stop()}},r,this,[[6,17,21,29],[22,,24,28]])}))()},methods:{toDetail:function(e){this.$util.toProductDetail(e)},selectProductsByCategory:function(){var t=c(n.default.mark(function t(r){var i,s,c,o,u,l,f;return n.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$util.request({requestUrl:"api/productsByCategory/"+r});case 2:if(i=t.sent,console.log(e("某类下的商品：",i," at pages\\category\\category\\category.vue:75")),!i){t.next=27;break}for(s=!0,c=!1,o=void 0,t.prev=8,u=this.list[Symbol.iterator]();!(s=(l=u.next()).done);s=!0)f=l.value,f.id===r&&(f.arr=i.data.data);t.next=16;break;case 12:t.prev=12,t.t0=t["catch"](8),c=!0,o=t.t0;case 16:t.prev=16,t.prev=17,s||null==u.return||u.return();case 19:if(t.prev=19,!c){t.next=22;break}throw o;case 22:return t.finish(19);case 23:return t.finish(16);case 24:this.list[this.list.length-1].id===r&&a.stopPullDownRefresh(),t.next=28;break;case 27:a.stopPullDownRefresh();case 28:case"end":return t.stop()}},t,this,[[8,12,16,24],[17,,19,23]])}));function r(e){return t.apply(this,arguments)}return r}(),selectCategory:function(){var t=c(n.default.mark(function t(){var r,i,s,c,o,u,l;return n.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$util.request({requestUrl:"api/category"});case 2:if(r=t.sent,console.log(e("查询所有类别：",r," at pages\\category\\category\\category.vue:93")),!r){t.next=27;break}for(this.list=r.data.data,i=!0,s=!1,c=void 0,t.prev=9,o=this.list[Symbol.iterator]();!(i=(u=o.next()).done);i=!0)l=u.value,this.$set(l,"arr",[]);t.next=17;break;case 13:t.prev=13,t.t0=t["catch"](9),s=!0,c=t.t0;case 17:t.prev=17,t.prev=18,i||null==o.return||o.return();case 20:if(t.prev=20,!s){t.next=23;break}throw c;case 23:return t.finish(20);case 24:return t.finish(17);case 25:t.next=28;break;case 27:a.stopPullDownRefresh();case 28:case"end":return t.stop()}},t,this,[[9,13,17,25],[18,,20,24]])}));function r(){return t.apply(this,arguments)}return r}(),TabSelect:function(e){this.tabCur=e.currentTarget.dataset.id,this.mainCur=e.currentTarget.dataset.id,this.verticalNavTop=50*(e.currentTarget.dataset.id-1)},VerticalMain:function(e){for(var t=this,r=0,n=function(e){var n=a.createSelectorQuery().select("#main-"+e);n.fields({size:!0},function(a){t.list[e].top=r,r+=a.height,t.list[e].bottom=r}).exec()},i=0;i<this.list.length;i++)n(i);var s=e.detail.scrollTop+10;for(i=0;i<this.list.length;i++)if(s>this.list[i].top&&s<this.list[i].bottom)return this.verticalNavTop=50*(this.list[i].id-1),this.tabCur=this.list[i].id,!1}}};t.default=o}).call(this,r("0de9")["default"],r("6e42")["default"])}},[["1f2f","common/runtime","common/vendor"]]]);